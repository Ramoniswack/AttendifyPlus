/**
 * QRCode.js library
 * Copyright (c) 2012 davidshimjs
 * Released under MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).QRCode=e()}(this,function(){"use strict";var t,e;function r(t){this.mode=e.MODE_8BIT_BYTE,this.data=t}function o(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},o.prototype={addData:function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=o.RSBlockTable.length/3,r=0;r<e;r++){var i=o.RSBlockTable[3*r+0],n=o.RSBlockTable[3*r+1],a=o.RSBlockTable[3*r+2],s=(n*(i+a)+a)/e-4;if(n<=0)break;for(var u=o.RSBlocks(t,this.errorCorrectLevel),h=0,f=0,l=0;l<u.length;l++)h+=u[l].dataCount,f+=u[l].totalCount;var g=h/f;if(g<=s){this.typeNumber=t;break}}if(this.typeNumber>=1)break;if(t>=40)throw new Error("Max typeNumber overflow: "+t);this.typeNumber=t}}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[r][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[t+r][e+o]=!0:this.modules[t+r][e+o]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=i.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var n=1*i,a=0;a<this.modules[i].length;a++){var s=1*a,u=this.modules[i][a];u&&(o.beginFill(0,100),o.moveTo(s,n),o.lineTo(s+1,n),o.lineTo(s+1,n+1),o.lineTo(s,n+1),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=i.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[o+a][n+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},setupTypeNumber:function(t){for(var e=i.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=i.getBCHTypeInfo(r),n=0;n<15;n++){var a=!t&&1==(o>>n&1);n<6?this.modules[n][8]=a:n<8?this.modules[n+1][8]=a:this.modules[this.moduleCount-15+n][8]=a}for(n=0;n<15;n++){a=!t&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=a:n<9?this.modules[8][15-n-1+1]=a:this.modules[8][15-n-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var u=0;u<2;u++)if(null==this.modules[o][s-u]){var h=!1;a<t.length&&(h=1==(t[a]>>>n&1)),i.getMask(e,o,s-u)&&(h=!h),this.modules[o][s-u]=h,-1==--n&&(a++,n=7)}if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(t,e,r){for(var n=v.getRSBlocks(t,e),a=new d,s=0;s<r.length;s++){var u=r[s];a.put(u.mode,4),a.put(u.getLength(),i.getLengthInBits(u.mode,t)),u.write(a)}for(var h=0,s=0;s<n.length;s++)h+=n[s].dataCount;if(a.getLengthInBits()>8*h)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*h+")");for(a.getLengthInBits()+4<=8*h&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*h||(a.put(o.PAD0,8),a.getLengthInBits()>=8*h));)a.put(o.PAD1,8);return o.createBytes(a,n)},o.createBytes=function(t,e){for(var r=0,o=0,n=0,a=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++){var h=e[u].dataCount,f=e[u].totalCount-h;o=Math.max(o,h),n=Math.max(n,f),a[u]=new Array(h);for(var l=0;l<a[u].length;l++)a[u][l]=255&t.buffer[l+r];r+=h;var g=i.getErrorCorrectPolynomial(f),c=new p(a[u],g.getLength()-1).mod(g);s[u]=new Array(g.getLength()-1);for(l=0;l<s[u].length;l++){var d=l+c.getLength()-s[u].length;s[u][l]=d>=0?c.get(d):0}}for(var v=0,l=0;l<e.length;l++)v+=e[l].totalCount;for(var m=new Array(v),y=0,l=0;l<o;l++)for(u=0;u<e.length;u++)l<a[u].length&&(m[y++]=a[u][l]);for(l=0;l<n;l++)for(u=0;u<e.length;u++)l<s[u].length&&(m[y++]=s[u][l]);return m},(e=t||(t={})).MODE_NUMBER=1,e.MODE_ALPHA_NUM=2,e.MODE_8BIT_BYTE=4,e.MODE_KANJI=8;var i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;i.getBCHDigit(e)-i.getBCHDigit(i.G15)>=0;)e^=i.G15<<i.getBCHDigit(e)-i.getBCHDigit(i.G15);return(t<<10|e)^i.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;i.getBCHDigit(e)-i.getBCHDigit(i.G18)>=0;)e^=i.G18<<i.getBCHDigit(e)-i.getBCHDigit(i.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return i.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return e*r%2+e*r%3==0;case 6:return(e*r%2+e*r%3)%2==0;case 7:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new p([1],0),r=0;r<t;r++)e=e.multiply(new p([1,l.gexp(r)],0));return e},getLengthInBits:function(e,r){if(1<=r&&r<10)switch(e){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(r<27)switch(e){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(r<41))throw new Error("type:"+r);switch(e){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var i=0;i<e;i++){for(var n=0,a=t.isDark(o,i),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||0==s&&0==u||a==t.isDark(o+s,i+u)&&n++;n>5&&(r+=3+n-5)}for(o=0;o<e-1;o++)for(i=0;i<e-1;i++){var h=0;t.isDark(o,i)&&h++,t.isDark(o+1,i)&&h++,t.isDark(o,i+1)&&h++,t.isDark(o+1,i+1)&&h++,0!=h&&4!=h||(r+=3)}for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);for(var f=0,i=0;i<e;i++)for(o=0;o<e;o++)t.isDark(o,i)&&f++;return r+=10*(Math.abs(100*f/e/e-50)/5)}},l={glog:function(t){if(t<1)throw new Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};!function(){for(var t=0;t<8;t++)l.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)l.EXP_TABLE[t]=l.EXP_TABLE[t-4]^l.EXP_TABLE[t-5]^l.EXP_TABLE[t-6]^l.EXP_TABLE[t-8];for(t=0;t<255;t++)l.LOG_TABLE[l.EXP_TABLE[t]]=t}();var p=function(){function t(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}return t.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(e){for(var r=new Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<e.getLength();i++)r[o+i]^=l.gexp(l.glog(this.get(o))+l.glog(e.get(i)));return new t(r,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var r=l.glog(this.get(0))-l.glog(e.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(i=0;i<e.getLength();i++)o[i]^=l.gexp(l.glog(e.get(i))+r);return new t(o,0).mod(e)}},t}(),v={RSBlocks:function(t,e){var r=v.getRSBlocks(t,e);if("number"==typeof r)return new Array(r);var o,i=r.length,n=0;for(o=0;o<i;++o)n+=r[o].totalCount;var a=new Array(n);for(n=0,o=0;o<i;++o)for(var s=0;s<r[o].totalCount;++s)a[n++]=r[o];return a},getRSBlocks:function(t,e){var r=v.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,i=new Array,n=0;n<o;n++)for(var a=r[3*n+0],s=r[3*n+1],u=r[3*n+2],h=0;h<a;h++)i.push({dataCount:s,totalCount:u});return i},getRsBlockTable:function(t,e){switch(e){case s.L:return v.RS_BLOCK_TABLE[4*(t-1)+0];case s.M:return v.RS_BLOCK_TABLE[4*(t-1)+1];case s.Q:return v.RS_BLOCK_TABLE[4*(t-1)+2];case s.H:return v.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}},d=function(){var t=[],e=0;return{get:function(e){var r=Math.floor(e/8);return 1==(t[r]>>>7-e%8&1)},put:function(e,r){for(var o=0;o<r;o++)this.putBit(1==(e>>>r-o-1&1))},getLengthInBits:function(){return e},putBit:function(r){var o=Math.floor(e/8);t.length<=o&&t.push(0),r&&(t[o]|=128>>>e%8),e++}}},s={L:1,M:0,Q:3,H:2};return v.RS_BLOCK_TABLE=[1,26,19,1,26,16,1,26,13,1,26,9,1,44,34,1,44,28,1,44,22,1,44,16,1,70,55,1,70,44,2,35,17,2,35,13,1,100,80,2,50,32,2,50,24,4,25,9,1,134,108,2,67,43,2,33,15,2,33,11,2,86,68,4,43,27,4,43,19,4,43,15,2,98,78,4,49,31,2,32,14,4,16,13,2,121,97,2,60,38,4,30,16,4,30,13,2,146,116,3,58,36,4,29,16,4,29,13,2,86,68,4,43,27,6,43,19,6,43,15,4,101,81,1,50,31,4,25,15,3,25,15,2,116,92,6,58,36,4,29,13,7,29,14,4,133,107,8,59,37,8,37,18,12,25,14,3,145,115,4,60,38,11,36,18,11,36,15,5,109,87,5,54,34,5,54,24,11,54,24,5,122,98,7,73,46,15,43,24,3,45,19,1,135,107,10,74,46,1,50,22,2,42,16,5,150,120,9,69,43,17,50,22,2,42,14,3,141,113,3,70,44,17,47,21,9,39,13,3,135,107,3,67,41,15,54,24,15,43,15,4,144,116,17,68,42,17,50,22,19,46,16,2,139,111,17,74,46,7,54,24,34,37,12,4,151,121,4,75,47,11,54,24,16,45,15,6,147,117,6,73,45,11,54,24,30,46,16,8,132,106,8,75,47,7,54,24,22,45,15,10,142,114,19,74,46,28,50,22,33,46,16,8,152,122,22,73,45,8,53,23,12,45,15,3,147,117,3,73,45,4,54,24,11,45,15,7,146,116,21,73,45,1,53,23,19,45,15,5,145,115,19,75,47,15,54,24,23,45,15,13,145,115,2,74,46,42,54,24,23,45,15,17,145,115,10,74,46,10,54,24,19,45,15,17,145,115,14,74,46,29,54,24,11,45,15,13,145,115,14,74,46,44,54,24,59,46,16,12,151,121,12,75,47,39,54,24,22,45,15,6,151,121,6,75,47,46,54,24,2,45,15,17,152,122,29,74,46,49,54,24,24,45,15,4,152,122,13,74,46,48,54,24,42,45,15,20,147,117,40,75,47,43,54,24,10,45,15],function(t,e){return e=e||{},{render:function(t,e){var r=this.createQrCodeImg(t,e);this.el=r,e&&e.render&&e.render(r)},createQrCodeImg:function(e,r){var i=(r=r||{}).typeNumber||-1,n=r.errorCorrectLevel||"L",a=r.size||200,s=new o(i,s[n]),u=(s.addData(e),s.make(),document.createElement("img"));return u.src=this.createImgData(s,a),u},createImgData:function(t,e){var r,o,i,n,a,s,u,h,f=this,l=e,g=Math.round(l/t.getModuleCount()),c=Math.round(l/t.getModuleCount());c<=1&&(c=1),g<=1&&(g=1),f.isDark=function(e,r){return t.isDark(e,r)},this.nCount=t.getModuleCount(),this.nWidth=g,this.nHeight=c,i=c*this.nCount,n=g*this.nCount,o=function(){for(var e=['<?xml version="1.0" encoding="utf-8"?>',' <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',' <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" baseProfile="tiny" version="1.1" viewBox="0 0 '+n+" "+i+'" width="'+n+'" height="'+i+'">',"  <g shape-rendering='crispEdges'>"],o=0;o<f.nCount;o++)for(var a=0;a<f.nCount;a++){var s=f.isDark(o,a);s&&e.push("<rect x='"+(a*g)+"' y='"+(o*c)+"' width='"+g+"' height='"+c+"'/>"),!1}return e.push(" </g>"),e.push("</svg>"),e.join("")}();var d="data:image/svg+xml;utf8,"+encodeURIComponent(o);return d}}}});
